<!DOCTYPE html>
<!-- This site was created in Webflow. http://www.webflow.com-->
<!-- Last Published: Wed Jun 03 2015 20:38:09 GMT+0000 (UTC) -->
<html data-wf-site="54f9268573ee3d0b05795f70" data-wf-page="54f9268573ee3d0b05795f78">
<head>
  <meta charset="utf-8">
  <title>Sign Up - Converse</title>
  <meta name="description" content="Sign up here to join Converse Alpha.">
  <meta name="keywords" content="converse, global, chat, conversation, sign, up, apply, alpha, world, globe, international">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="Webflow">
  <link rel="stylesheet" type="text/css" href="css/normalize.css">
  <link rel="stylesheet" type="text/css" href="css/webflow.css">
  <link rel="stylesheet" type="text/css" href="css/goconverse.webflow.css">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js"></script>
  <script>
    WebFont.load({
      google: {
        families: ["Lato:100,100italic,300,300italic,400,400italic,700,700italic,900,900italic","PT Serif:400,400italic,700,700italic","Raleway:200,300,regular,500,600,700"]
      }
    });
  </script>
  <script type="text/javascript" src="js/modernizr.js"></script>
  <link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico">
  <link rel="apple-touch-icon" href="images/webclip.png">
  <style>
    .w-slider-nav-invert>div.w-active {
        background-color: #00c2a2; !important
    }
    .w-slider-nav-invert>div {
        background-color: #e5e5e5; !important
    }
  </style>
    <!-- Adding Firebase code, differing from Webflow -->
  <script src="https://cdn.firebase.com/js/client/2.2.2/firebase.js"></script>
  <script>
	  var ref = new Firebase("https://goconverse.firebaseio.com/");

		// Function called when form is submitted - Calls createUser() then adds their userID, name, and reasons for joining to Firebase.
		function createCredentials()
		{
			// Changing the button value to a waiting message
			document.getElementById("Submit").setAttribute("value", "Please wait...");

			// Calling Firebase's createUser()
			ref.createUser(
			{
			  email: document.getElementById('email').value,
			  password: document.getElementById('password').value
			}
			, // This function is passed to createUser() as the second argument
			function(error, userData) {
			  if (error) {
				switch (error.code) {
				  case "EMAIL_TAKEN":
					console.log("The new user account cannot be created because the email is already in use.");
					document.getElementById('Submit').setAttribute("value", "Error signing up");
					var emailField = document.getElementById('email');
					emailField.style.backgroundColor = "#FFA8A8";
					emailField.value="Email address already taken";
					break;
				  case "INVALID_EMAIL":
					console.log("The specified email is not a valid email.");
					document.getElementById('Submit').setAttribute("value", "Error signing up");
					var emailField = document.getElementById('email');
					emailField.style.backgroundColor = "#FFA8A8";
					emailField.value="Invalid email address";
					break;
				  default:
					console.log("Error creating user:", error);
				}
			  }
			  else
			  {
				// On success, log userID
				console.log("Successfully created user account with uid:", userData.uid);

				// ...then add user ID and user data to Firebase
				var usersRef = ref.child("users");
				usersRef.child(userData.uid).set(
				{
					firstname: document.getElementById('first-name').value,
					lastname: document.getElementById('last-name').value,
					email: document.getElementById('email').value,
					country: document.getElementById('country').value,
					city: document.getElementById('city').value,
					birthday: document.getElementById('birthday').value,
					interests: document.getElementById('interests').value,
					conversationsCount: 0,
					userid: userData.uid
				});
				// ...then redirect the user to the success page
				window.location.href="success.html";
			  }
			});
		}
  </script>
  <!-- Back to Webflow code -->
</head>
<body>
  <a class="w-inline-block go-top" href="#top" data-ix="hide"></a>
  <div class="w-nav navigation" id="top" data-collapse="medium" data-animation="default" data-duration="400" data-contain="1">
    <div class="w-container">
      <a class="w-nav-brand barnd" href="index.html"><img src="images/converseWhiteTrans.png" width="185">
      </a>
      <nav class="w-nav-menu nav-menu" role="navigation"><a class="w-nav-link nav-link" href="homepage.html">Home</a><a class="w-nav-link nav-link" href="login.html">Log In</a><a class="w-nav-link nav-link" href="signup.html">Sign Up</a>
      </nav>
      <div class="w-nav-button menu-ham">
        <div class="w-icon-nav-menu"></div>
      </div>
    </div>
  </div>
  <div class="w-section banner inner" data-ix="show-hide-scroll-nav">
    <div class="triangle"><img src="images/tri-gray.png">
    </div>
    <div class="w-container">
      <div class="div-center">
        <h1 class="h-inner" data-ix="text-inner"><span class="white-2">want to try it?</span></h1>
        <div class="sub-text" data-ix="text-inner-2">Sign up to join Converse Alpha!</div>
      </div>
    </div>
  </div>
  <div class="w-section section">
    <div class="w-container">
      <div class="tittle-heading">
        <h3>sign up here</h3>
        <div class="div-line"><img src="images/arrow.png">
        </div>
      </div>
      <div class="div-form">
        <div class="w-form">
          <form class="w-clearfix" id="email-form" name="email-form" data-name="email Form">
            <input class="w-input text-field" id="first-name" type="text" placeholder="First name" name="First-name" data-name="First name" required="required" autofocus="autofocus">
            <input class="w-input text-field" id="last-name" type="text" placeholder="Last name" name="Last-name" data-name="Last name" required="required">
            <input class="w-input text-field" id="email" type="email" placeholder="email" name="Email" data-name="Email" required="required">
            <input class="w-input text-field" id="password" type="password" placeholder="Password" name="Password" data-name="Password" required="required">
            <select class="w-select country-select" id="country" name="Country" required="required" data-name="Country">
              <option value="">Select one...</option>
              <option value="USA">USA</option>
              <option value="China">China</option>
              <option value="India">India</option>
              <option value="Germany">Germany</option>
              <option value="France">France</option>
              <option value="Canada">Canada</option>
              <option value="Ukraine">Ukraine</option>
			  <option value="Other">Other</option>
            </select>
            <input class="w-input text-field" id="city" type="text" placeholder="City" name="City" data-name="City" required="required">
            <input class="w-input text-field" id="birthday" type="text" placeholder="Birthday DD/MM/YYYY" name="Birthday" data-name="Birthday">
            <textarea class="w-input text-area" id="interests" placeholder="What are some interests of yours? Please list." name="User-Info" data-name="User Info" required="required"></textarea>
            <div class="div-spc">
              <input class="w-button button s-button" id="Submit" type="button" onclick="createCredentials()" value="Submit Sign-up" data-wait="Please wait...">
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script type="text/javascript" src="js/webflow.js"></script>
  <!--[if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif]-->
</body>
</html>
